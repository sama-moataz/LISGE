(()=>{var e={};e.id=458,e.ids=[458],e.modules={2876:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=t(65239),s=t(48088),i=t(88170),n=t.n(i),o=t(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d={children:["",{children:["admin",{children:["scholarships",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,16390)),"/home/user/studio/src/app/admin/scholarships/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,80871)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/user/studio/src/app/admin/scholarships/page.tsx"],h={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/scholarships/page",pathname:"/admin/scholarships",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7879:e=>{"use strict";e.exports=import("firebase-admin/firestore")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16390:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/admin/scholarships/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/admin/scholarships/page.tsx","default")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},20527:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.r(r),t.d(r,{"404faad4109717d4e5e86c4fbf403198de204c6c72":()=>s.cz,"604c5160916e78886692ed32262a86353fa2a109f9":()=>s.a3,"605695a45e6daa71c71a0b803c33975c451c8a3ad9":()=>s.yw});var s=t(84231),i=e([s]);s=(i.then?(await i)():i)[0],a()}catch(e){a(e)}})},21820:e=>{"use strict";e.exports=require("os")},22535:(e,r,t)=>{Promise.resolve().then(t.bind(t,16390))},26398:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(2146).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},36558:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(2146).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},37366:e=>{"use strict";e.exports=require("dns")},44493:(e,r,t)=>{"use strict";t.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>o,wL:()=>h});var a=t(60687),s=t(43210),i=t(4780);let n=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));n.displayName="Card";let o=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));o.displayName="CardHeader";let l=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let d=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let h=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r}));h.displayName="CardFooter"},52799:(e,r,t)=>{Promise.resolve().then(t.bind(t,89228))},55511:e=>{"use strict";e.exports=require("crypto")},60368:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(2146).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},61548:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(2146).A)("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]])},61662:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(2146).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},61733:(e,r,t)=>{"use strict";t.d(r,{rZ:()=>l,sk:()=>o});var a=t(33784),s=t(75535);let i="SCHOLARSHIPS",n=e=>{let r=e.data();return{id:e.id,name:r.name||"",description:r.description||"",eligibility:r.eligibility||"",websiteUrl:r.websiteUrl||"",iconName:r.iconName||void 0,category:r.category||void 0,location:r.location||"Global",ageRequirement:r.ageRequirement||void 0,fundingLevel:r.fundingLevel||void 0,destinationRegion:r.destinationRegion||void 0,targetLevel:r.targetLevel||void 0,fundingCountry:r.fundingCountry||void 0,partner:r.partner||void 0,coverage:r.coverage||void 0,deadline:r.deadline||void 0,imageUrl:r.imageUrl||void 0,createdAt:r.createdAt instanceof s.Dc?r.createdAt:void 0,updatedAt:r.updatedAt instanceof s.Dc?r.updatedAt:void 0}};async function o(){try{let e=(0,s.rJ)(a.db,i),r=(0,s.P)(e,(0,s.My)("createdAt","desc"));return(await (0,s.GG)(r)).docs.map(n)}catch(e){throw console.error("[firestoreService] Error fetching scholarships (client SDK): ",e),Error("Failed to fetch scholarships.")}}async function l(e){try{let r=(0,s.H9)(a.db,i,e),t=await (0,s.x7)(r);if(t.exists())return n(t);return null}catch(r){throw console.error(`[firestoreService] Error fetching scholarship with ID ${e} (client SDK): `,r),Error(`Failed to fetch scholarship ${e}.`)}}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70440:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});var a=t(31658);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},76409:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(r,{Kr:()=>d,LF:()=>c,r6:()=>l});var s=t(87915),i=t(7879),n=e([i]);i=(n.then?(await n)():n)[0];let h="SCHOLARSHIPS";function o(){if(void 0===s.s||!s.s||"function"!=typeof s.s.collection){let e="SERVER_CONFIG_ERROR: Firebase Admin SDK (adminDB) is not properly initialized. This is a critical server configuration issue. Possible causes: GOOGLE_APPLICATION_CREDENTIALS environment variable is not set, path is incorrect, service account file is malformed/missing, or Node.js process lacks read permissions. Detailed Admin SDK initialization logs should be in the server console (check firebaseAdmin.ts logs).";throw console.error("[firestoreAdminService] CRITICAL CHECK FAILED:",e),Error(e)}console.log("[firestoreAdminService] AdminDB initialized check passed.")}async function l(e){console.log("[firestoreAdminService] addScholarshipAdmin: Attempting to add data:",JSON.stringify(e,null,2)),o();let r={name:e.name||"",description:e.description||"",eligibility:e.eligibility||"",websiteUrl:e.websiteUrl||"",location:e.location||"International",iconName:e.iconName&&"_none_"!==e.iconName?e.iconName:null,category:e.category||null,ageRequirement:e.ageRequirement&&"_none_"!==e.ageRequirement?e.ageRequirement:null,fundingLevel:e.fundingLevel&&"_none_"!==e.fundingLevel?e.fundingLevel:null,destinationRegion:e.destinationRegion&&"_none_"!==e.destinationRegion?e.destinationRegion:null,targetLevel:e.targetLevel&&"_none_"!==e.targetLevel?e.targetLevel:null,fundingCountry:e.fundingCountry&&"_none_"!==e.fundingCountry?e.fundingCountry:null,partner:e.partner||null,coverage:e.coverage||null,deadline:e.deadline||null,imageUrl:e.imageUrl||null,createdAt:i.Timestamp.now(),updatedAt:i.Timestamp.now()};try{let e=s.s.collection(h),t=await e.add(r);return console.log("[firestoreAdminService] addScholarshipAdmin: Successfully added document with ID:",t.id),t.id}catch(e){throw console.error("[firestoreAdminService] addScholarshipAdmin: CRITICAL ERROR during Admin SDK Firestore 'add' operation:",e),Error(`Admin SDK Firestore Error: ${e.message||"Failed to add scholarship using Admin SDK. Check server console for details."}`)}}async function d(e,r){console.log(`[firestoreAdminService] updateScholarshipAdmin: Attempting to update ID ${e} with data:`,JSON.stringify(r,null,2)),o();let t={};Object.keys(r).forEach(e=>{let a=r[e];null==a||"_none_"===a||"string"==typeof a&&""===a.trim()&&("imageUrl"===e||"iconName"===e||"category"===e||"ageRequirement"===e||"fundingLevel"===e||"destinationRegion"===e||"targetLevel"===e||"fundingCountry"===e||"partner"===e||"coverage"===e||"deadline"===e)?t[e]=null:t[e]=a}),t.updatedAt=i.Timestamp.now();try{let r=s.s.collection(h).doc(e);await r.update(t),console.log(`[firestoreAdminService] updateScholarshipAdmin: Successfully updated document with ID: ${e}`)}catch(r){throw console.error(`[firestoreAdminService] updateScholarshipAdmin: ERROR updating scholarship ${e} with Admin SDK:`,r),Error(`Admin SDK Firestore Error: ${r.message||`Failed to update scholarship ${e}. Check server console.`}`)}}async function c(e){console.log(`[firestoreAdminService] deleteScholarshipAdmin: Attempting to delete ID: ${e}`),o();try{let r=s.s.collection(h).doc(e);await r.delete(),console.log(`[firestoreAdminService] deleteScholarshipAdmin: Successfully deleted document with ID: ${e}`)}catch(r){throw console.error(`[firestoreAdminService] deleteScholarshipAdmin: Error deleting scholarship ${e} with Admin SDK:`,r),Error(`Admin SDK Firestore Error: ${r.message||`Failed to delete scholarship ${e}. Check server console.`}`)}}a()}catch(e){a(e)}})},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},81665:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var a=t(60687);t(43210);var s=t(72963),i=t(36690);let n=({name:e,fallbackIcon:r=s.A,...t})=>{if(!e)return(0,a.jsx)(r,{...t});let n=i[e];return n?(0,a.jsx)(n,{...t}):(console.warn(`Icon "${e}" not found in lucide-react. Falling back to default.`),(0,a.jsx)(r,{...t}))}},84231:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(r,{a3:()=>c,cz:()=>l,yw:()=>d});var s=t(91199);t(42087);var i=t(76409),n=t(33331),o=e([i]);async function l(e){console.log("[Server Action - handleAddScholarshipAction] INVOKED."),console.log("[Server Action - handleAddScholarshipAction] GOOGLE_APPLICATION_CREDENTIALS (at start of Server Action):",process.env.GOOGLE_APPLICATION_CREDENTIALS||"NOT SET in Server Action environment");try{console.log("[Server Action - handleAddScholarshipAction] Received processed data:",JSON.stringify(e,null,2));let r=await (0,i.r6)(e);return console.log("[Server Action - handleAddScholarshipAction] Scholarship added successfully with ID:",r),{success:!0,scholarshipId:r,name:e.name}}catch(t){console.error("[Server Action - handleAddScholarshipAction] CAUGHT ERROR while calling addScholarshipAdmin or during processing:",t),console.error("[Server Action - handleAddScholarshipAction] Error Name:",t.name),console.error("[Server Action - handleAddScholarshipAction] Error Message:",t.message),console.error("[Server Action - handleAddScholarshipAction] Error Stack:",t.stack);let r="Failed to add scholarship. An unexpected server error occurred.";return t.message&&(r=t.message.includes("SERVER_CONFIG_ERROR:")?t.message:`Failed to add scholarship: ${t.message}`),{success:!1,error:r,name:e.name}}}async function d(e,r){console.log(`[Server Action - handleUpdateScholarshipAction] Received data for ID ${e}:`,r);try{return console.log("[Server Action - handleUpdateScholarshipAction] Processed data for Admin SDK:",r),await (0,i.Kr)(e,r),console.log("[Server Action - handleUpdateScholarshipAction] Scholarship updated for ID:",e),{success:!0,id:e,name:r.name}}catch(e){return console.error("[Server Action - handleUpdateScholarshipAction] Error calling updateScholarshipAdmin:",e),{success:!1,error:e.message||"Failed to update scholarship via Admin SDK.",name:r.name}}}async function c(e,r){console.log(`[Server Action - handleDeleteScholarshipAction] Attempting to delete ID ${e}, Name: ${r}`);try{return await (0,i.LF)(e),console.log(`[Server Action - handleDeleteScholarshipAction] Scholarship deleted for ID: ${e}`),{success:!0,name:r}}catch(t){return console.error(`[Server Action - handleDeleteScholarshipAction] Error calling deleteScholarshipAdmin for ID ${e}:`,t),{success:!1,error:t.message||"Failed to delete scholarship via Admin SDK.",name:r}}}i=(o.then?(await o)():o)[0],(0,n.D)([l,d,c]),(0,s.A)(l,"404faad4109717d4e5e86c4fbf403198de204c6c72",null),(0,s.A)(d,"605695a45e6daa71c71a0b803c33975c451c8a3ad9",null),(0,s.A)(c,"604c5160916e78886692ed32262a86353fa2a109f9",null),a()}catch(e){a(e)}})},87915:(e,r,t)=>{"use strict";let a,s;t.d(r,{s:()=>l});let i=require("firebase-admin");var n=t.n(i);console.log("[firebaseAdmin.ts] SERVER START: Current value of process.env.GOOGLE_APPLICATION_CREDENTIALS:",process.env.GOOGLE_APPLICATION_CREDENTIALS||"NOT SET");let o=process.env.GOOGLE_APPLICATION_CREDENTIALS;if(n().apps.length){console.log("Firebase Admin SDK: Already initialized (admin.apps.length > 0). Retrieving existing instances.");try{a||(a=n().firestore()),s||(s=n().auth()),a&&s&&console.log("Firebase Admin SDK: Re-confirmed Firestore and Auth instances from existing app.")}catch(e){console.error("Firebase Admin SDK: Error retrieving instances from existing app:",e.message)}}else{if(o){console.log("Firebase Admin SDK: GOOGLE_APPLICATION_CREDENTIALS is SET. Path from env var:",o);try{n().initializeApp({credential:n().credential.cert(o)}),console.log("Firebase Admin SDK: Initialized successfully with service account from path:",o)}catch(e){console.error("Firebase Admin SDK: CRITICAL - Initialization FAILED with service account. Path used:",o,"Error:",e.message),console.error("Firebase Admin SDK: Ensure the GOOGLE_APPLICATION_CREDENTIALS path is correct, the file exists, is valid JSON, and the Node.js process has read permissions.")}}else{console.warn("WARNING: GOOGLE_APPLICATION_CREDENTIALS environment variable is NOT SET. Firebase Admin SDK will attempt to initialize with application default credentials. This might only work in specific Google Cloud environments (e.g., Cloud Functions, App Engine). For local development and most other deployments, you MUST provide a service account JSON file path via this variable.");try{n().initializeApp(),console.log("Firebase Admin SDK: Initialized with application default credentials.")}catch(e){console.error("Firebase Admin SDK: CRITICAL - Initialization FAILED with default credentials:",e.message),console.error("Firebase Admin SDK: Ensure your environment is set up for default credentials or set GOOGLE_APPLICATION_CREDENTIALS.")}}if(n().apps.length>0)try{a=n().firestore(),s=n().auth(),a&&s?console.log("Firebase Admin SDK: Successfully retrieved Firestore and Auth instances. Admin SDK should be operational."):console.error("Firebase Admin SDK: CRITICAL - admin.firestore() or admin.auth() returned undefined/null even after app initialization. This is unexpected.")}catch(e){console.error("Firebase Admin SDK: CRITICAL - Error when trying to get Firestore/Auth instance after app initialization:",e.message)}else console.error("Firebase Admin SDK: CRITICAL - admin.apps.length is 0. Initialization definitely failed.")}let l=a},89228:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>ed});var a=t(60687),s=t(43210),i=t(16189),n=t(85814),o=t.n(n),l=t(18780),d=t(29523),c=t(44493),h=t(4780);let p=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,h.cn)("w-full caption-bottom text-sm",e),...r})}));p.displayName="Table";let u=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("thead",{ref:t,className:(0,h.cn)("[&_tr]:border-b",e),...r}));u.displayName="TableHeader";let m=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("tbody",{ref:t,className:(0,h.cn)("[&_tr:last-child]:border-0",e),...r}));m.displayName="TableBody",s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("tfoot",{ref:t,className:(0,h.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r})).displayName="TableFooter";let f=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("tr",{ref:t,className:(0,h.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));f.displayName="TableRow";let g=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("th",{ref:t,className:(0,h.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));g.displayName="TableHead";let x=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("td",{ref:t,className:(0,h.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));x.displayName="TableCell",s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("caption",{ref:t,className:(0,h.cn)("mt-4 text-sm text-muted-foreground",e),...r})).displayName="TableCaption";var A=t(11516),y=t(69678),v=t(35265),S=t(60368),N=t(35137),b=t(57207),w=t(61733),j=t(29867),R=t(81665),D=t(11273),E=t(98599),C=t(26134),I=t(70569),k=t(8730),L="AlertDialog",[T,O]=(0,D.A)(L,[C.Hs]),_=(0,C.Hs)(),F=e=>{let{__scopeAlertDialog:r,...t}=e,s=_(r);return(0,a.jsx)(C.bL,{...s,...t,modal:!0})};F.displayName=L;var P=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,...s}=e,i=_(t);return(0,a.jsx)(C.l9,{...i,...s,ref:r})});P.displayName="AlertDialogTrigger";var q=e=>{let{__scopeAlertDialog:r,...t}=e,s=_(r);return(0,a.jsx)(C.ZL,{...s,...t})};q.displayName="AlertDialogPortal";var G=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,...s}=e,i=_(t);return(0,a.jsx)(C.hJ,{...i,...s,ref:r})});G.displayName="AlertDialogOverlay";var K="AlertDialogContent",[M,$]=T(K),z=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,children:i,...n}=e,o=_(t),l=s.useRef(null),d=(0,E.s)(r,l),c=s.useRef(null);return(0,a.jsx)(C.G$,{contentName:K,titleName:U,docsSlug:"alert-dialog",children:(0,a.jsx)(M,{scope:t,cancelRef:c,children:(0,a.jsxs)(C.UC,{role:"alertdialog",...o,...n,ref:d,onOpenAutoFocus:(0,I.m)(n.onOpenAutoFocus,e=>{e.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,a.jsx)(k.xV,{children:i}),(0,a.jsx)(W,{contentRef:l})]})})})});z.displayName=K;var U="AlertDialogTitle",H=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,...s}=e,i=_(t);return(0,a.jsx)(C.hE,{...i,...s,ref:r})});H.displayName=U;var B="AlertDialogDescription",J=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,...s}=e,i=_(t);return(0,a.jsx)(C.VY,{...i,...s,ref:r})});J.displayName=B;var V=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,...s}=e,i=_(t);return(0,a.jsx)(C.bm,{...i,...s,ref:r})});V.displayName="AlertDialogAction";var Z="AlertDialogCancel",Y=s.forwardRef((e,r)=>{let{__scopeAlertDialog:t,...s}=e,{cancelRef:i}=$(Z,t),n=_(t),o=(0,E.s)(r,i);return(0,a.jsx)(C.bm,{...n,...s,ref:o})});Y.displayName=Z;var W=({contentRef:e})=>{let r=`\`${K}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${K}\` by passing a \`${B}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${K}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return s.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null};let X=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)(G,{className:(0,h.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:t}));X.displayName=G.displayName;let Q=s.forwardRef(({className:e,...r},t)=>(0,a.jsxs)(q,{children:[(0,a.jsx)(X,{}),(0,a.jsx)(z,{ref:t,className:(0,h.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r})]}));Q.displayName=z.displayName;let ee=({className:e,...r})=>(0,a.jsx)("div",{className:(0,h.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...r});ee.displayName="AlertDialogHeader";let er=({className:e,...r})=>(0,a.jsx)("div",{className:(0,h.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});er.displayName="AlertDialogFooter";let et=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)(H,{ref:t,className:(0,h.cn)("text-lg font-semibold",e),...r}));et.displayName=H.displayName;let ea=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)(J,{ref:t,className:(0,h.cn)("text-sm text-muted-foreground",e),...r}));ea.displayName=J.displayName;let es=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)(V,{ref:t,className:(0,h.cn)((0,d.r)(),e),...r}));es.displayName=V.displayName;let ei=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)(Y,{ref:t,className:(0,h.cn)((0,d.r)({variant:"outline"}),"mt-2 sm:mt-0",e),...r}));ei.displayName=Y.displayName;var en=t(12281),eo=t(6475);let el=(0,eo.createServerReference)("604c5160916e78886692ed32262a86353fa2a109f9",eo.callServer,void 0,eo.findSourceMapURL,"handleDeleteScholarshipAction");function ed(){let{user:e,isAdmin:r,loading:t}=(0,l.A)(),n=(0,i.useRouter)(),{toast:h}=(0,j.dj)(),[D,E]=(0,s.useState)([]),[C,I]=(0,s.useState)(!0),[k,L]=(0,s.useState)(null),T=async()=>{I(!0),L(null);try{let e=await (0,w.sk)();E(e)}catch(e){L(e.message||"Failed to load scholarships."),h({title:"Error",description:e.message||"Failed to load scholarships.",variant:"destructive"})}finally{I(!1)}},O=async(e,r)=>{let t=await el(e,r);t.success?(h({title:"Success",description:`Scholarship "${t.name}" deleted successfully.`}),T()):h({title:"Error Deleting",description:t.error||`Failed to delete scholarship "${t.name}".`,variant:"destructive"})},_=e=>{if(!e)return"N/A";try{let r=e.toDate();return(0,en.GP)(r,"MMM d, yyyy")}catch(r){try{let r=new Date(e);if(!isNaN(r.getTime()))return(0,en.GP)(r,"MMM d, yyyy")}catch(e){}return"Invalid Date"}};return t||C?(0,a.jsxs)("div",{className:"flex justify-center items-center min-h-[calc(100vh-200px)]",children:[(0,a.jsx)(A.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,a.jsx)("p",{className:"ml-4 text-lg",children:"Loading scholarships management..."})]}):r||t?(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(c.Zp,{children:[(0,a.jsxs)(c.aR,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.ZB,{className:"text-2xl font-headline",children:"Manage Scholarships (Admin SDK)"}),(0,a.jsx)(c.BT,{children:"Add, edit, or delete scholarship listings."})]}),(0,a.jsx)(d.$,{asChild:!0,children:(0,a.jsxs)(o(),{href:"/admin/scholarships/new",children:[(0,a.jsx)(v.A,{className:"mr-2 h-5 w-5"})," Add New Scholarship"]})})]}),(0,a.jsxs)(c.Wu,{children:[k&&(0,a.jsx)("p",{className:"text-destructive mb-4",children:k}),0===D.length&&!C&&!k&&(0,a.jsx)("p",{className:"text-center text-muted-foreground py-4",children:"No scholarships found. Add one to get started!"}),D.length>0&&(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(p,{children:[(0,a.jsx)(u,{children:(0,a.jsxs)(f,{children:[(0,a.jsx)(g,{className:"w-[50px]",children:"Icon"}),(0,a.jsx)(g,{children:"Name"}),(0,a.jsx)(g,{children:"Category"}),(0,a.jsx)(g,{children:"Location"}),(0,a.jsx)(g,{children:"Created"}),(0,a.jsx)(g,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(m,{children:D.map(e=>(0,a.jsxs)(f,{children:[(0,a.jsx)(x,{children:(0,a.jsx)(R.A,{name:e.iconName,className:"h-6 w-6 text-accent",fallbackIcon:S.A})}),(0,a.jsx)(x,{className:"font-medium",children:e.name}),(0,a.jsx)(x,{children:e.category||"N/A"}),(0,a.jsx)(x,{children:e.location}),(0,a.jsx)(x,{children:_(e.createdAt)}),(0,a.jsxs)(x,{className:"text-right space-x-2",children:[(0,a.jsx)(d.$,{variant:"outline",size:"sm",asChild:!0,children:(0,a.jsx)(o(),{href:`/admin/scholarships/edit/${e.id}`,children:(0,a.jsx)(N.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(F,{children:[(0,a.jsx)(P,{asChild:!0,children:(0,a.jsx)(d.$,{variant:"destructive",size:"sm",children:(0,a.jsx)(b.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(Q,{children:[(0,a.jsxs)(ee,{children:[(0,a.jsx)(et,{children:"Are you absolutely sure?"}),(0,a.jsxs)(ea,{children:["This action cannot be undone. This will permanently delete the scholarship",(0,a.jsxs)("span",{className:"font-semibold",children:[' "',e.name,'"']}),"."]})]}),(0,a.jsxs)(er,{children:[(0,a.jsx)(ei,{children:"Cancel"}),(0,a.jsx)(es,{onClick:()=>O(e.id,e.name),children:"Yes, delete scholarship"})]})]})]})]})]},e.id))})]})})]})]})}):(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center min-h-[calc(100vh-200px)] text-center p-4",children:[(0,a.jsx)(y.A,{className:"h-16 w-16 text-destructive mb-4"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-destructive mb-2",children:"Access Denied"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6",children:"You do not have the necessary permissions to access this page."}),(0,a.jsx)(d.$,{onClick:()=>n.push("/dashboard"),children:"Go to Dashboard"})]})}},89743:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(2146).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},90586:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(2146).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},91645:e=>{"use strict";e.exports=require("net")},92876:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(2146).A)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},94735:e=>{"use strict";e.exports=require("events")},99196:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(2146).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[447,482,658,690,149,281,973],()=>t(2876));module.exports=a})();