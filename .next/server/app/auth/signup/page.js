(()=>{var e={};e.id=778,e.ids=[778],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},43458:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d});var s=r(65239),a=r(48088),i=r(88170),o=r.n(i),l=r(30893),n={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);r.d(t,n);let d={children:["",{children:["auth",{children:["signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,94796)),"/home/user/studio/src/app/auth/signup/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,80871)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["/home/user/studio/src/app/auth/signup/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/auth/signup/page",pathname:"/auth/signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},44493:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>u,ZB:()=>n,Zp:()=>o,aR:()=>l,wL:()=>c});var s=r(60687),a=r(43210),i=r(4780);let o=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));o.displayName="Card";let l=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let n=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));n.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let u=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...t}));u.displayName="CardContent";let c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t}));c.displayName="CardFooter"},55511:e=>{"use strict";e.exports=require("crypto")},58595:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(2146).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},59824:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(2146).A)("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70058:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var s=r(60687),a=r(43210),i=r(16189),o=r(31583),l=r(75535),n=r(33784),d=r(29523),u=r(89667),c=r(80013),p=r(44493),m=r(85814),h=r.n(m),x=r(71032),f=r(58595),g=r(27247),v=r(59824),y=r(11516),b=r(29867);function w(){let[e,t]=(0,a.useState)(""),[r,m]=(0,a.useState)(""),[w,j]=(0,a.useState)(""),[N,P]=(0,a.useState)(""),[A,S]=(0,a.useState)(null),[q,C]=(0,a.useState)(!1),R=(0,i.useRouter)(),{toast:E}=(0,b.dj)(),F=async t=>{let s;if(t.preventDefault(),S(null),w!==N){S("Passwords do not match."),E({title:"Signup Failed",description:"Passwords do not match.",variant:"destructive"});return}if(w.length<6){S("Password should be at least 6 characters."),E({title:"Signup Failed",description:"Password should be at least 6 characters.",variant:"destructive"});return}C(!0),console.log(`[Signup Page] Attempting signup for email: ${r}`);try{s=(await (0,o.eJ)(n.j2,r,w)).user,console.log(`[Signup Page] User CREATED in Firebase Auth. UID: ${s.uid}, Email: ${s.email}`);try{await (0,o.r7)(s,{displayName:e}),console.log(`[Signup Page] Firebase Auth profile updated with displayName: ${e} for UID: ${s.uid}`)}catch(e){console.warn(`[Signup Page] Non-critical: Failed to update Firebase Auth profile displayName for UID: ${s.uid}. Error: ${e.message}`)}let t=(0,l.H9)(n.db,"USERS",s.uid),a={uid:s.uid,name:e.trim()||(s.email?s.email.split("@")[0]:"New User"),email:s.email,role:"user",createdAt:(0,l.O5)(),lastLoginAt:(0,l.O5)(),photoURL:s.photoURL||null};console.log(`[Signup Page] Preparing to create Firestore document at USERS/${s.uid} with data:`,JSON.stringify(a));try{await (0,l.BN)(t,a),console.log(`[Signup Page] Firestore document CREATED successfully at USERS/${s.uid}.`),E({title:"Account Created!",description:"Welcome to LISGE Hub. Redirecting to dashboard..."}),R.push("/dashboard")}catch(t){console.error(`[Signup Page] CRITICAL: Firebase Auth user ${s?.uid} created, BUT FAILED to create Firestore profile at USERS/${s?.uid}. Error:`,t);let e=`Account authentication was successful, but we encountered an issue setting up your profile in our database (Error: ${t.message}). Please try logging in. If the problem persists, contact support with your email and this UID: ${s?.uid||"N/A"}.`;S(e),E({title:"Signup Incomplete",description:e,variant:"destructive",duration:15e3})}}catch(t){let e="Failed to create account. Please try again.";"auth/email-already-in-use"===t.code?e="This email address is already registered. Please try logging in or use a different email.":"auth/weak-password"===t.code?e="The password is too weak. Please choose a stronger password.":"auth/invalid-email"===t.code&&(e="The email address is not valid. Please enter a valid email."),S(e),E({title:"Signup Failed",description:e,variant:"destructive"}),console.error("[Signup Page] Firebase Auth Error (createUserWithEmailAndPassword):",t.code,t.message)}finally{C(!1)}};return(0,s.jsx)("div",{className:"flex justify-center items-center min-h-[calc(100vh-200px)] py-12",children:(0,s.jsxs)(p.Zp,{className:"w-full max-w-md shadow-xl",children:[(0,s.jsxs)(p.aR,{className:"text-center",children:[(0,s.jsxs)(p.ZB,{className:"text-3xl font-headline flex items-center justify-center gap-2",children:[(0,s.jsx)(x.A,{className:"h-8 w-8 text-primary"})," Create Account"]}),(0,s.jsx)(p.BT,{children:"Join LISGE to explore your potential."})]}),(0,s.jsxs)(p.Wu,{children:[(0,s.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(c.Label,{htmlFor:"name",className:"flex items-center gap-1",children:[(0,s.jsx)(f.A,{size:14}),"Full Name"]}),(0,s.jsx)(u.p,{id:"name",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Your Full Name",required:!0,disabled:q})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(c.Label,{htmlFor:"email",className:"flex items-center gap-1",children:[(0,s.jsx)(g.A,{size:14}),"Email"]}),(0,s.jsx)(u.p,{id:"email",type:"email",value:r,onChange:e=>m(e.target.value),placeholder:"you@example.com",required:!0,disabled:q})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(c.Label,{htmlFor:"password",className:"flex items-center gap-1",children:[(0,s.jsx)(v.A,{size:14}),"Password"]}),(0,s.jsx)(u.p,{id:"password",type:"password",value:w,onChange:e=>j(e.target.value),placeholder:"•••••••• (min. 6 characters)",required:!0,disabled:q})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(c.Label,{htmlFor:"confirmPassword",className:"flex items-center gap-1",children:[(0,s.jsx)(v.A,{size:14}),"Confirm Password"]}),(0,s.jsx)(u.p,{id:"confirmPassword",type:"password",value:N,onChange:e=>P(e.target.value),placeholder:"••••••••",required:!0,disabled:q})]}),A&&(0,s.jsx)("p",{className:"text-sm text-destructive py-1 text-center whitespace-pre-wrap",children:A}),(0,s.jsxs)(d.$,{type:"submit",className:"w-full",disabled:q,children:[q?(0,s.jsx)(y.A,{className:"animate-spin mr-2"}):null,q?"Creating account...":"Sign Up"]})]}),(0,s.jsxs)("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",(0,s.jsx)(h(),{href:"/auth/login",className:"font-medium text-primary hover:underline",children:"Login"})]})]})]})})}},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},72149:(e,t,r)=>{Promise.resolve().then(r.bind(r,94796))},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},78148:(e,t,r)=>{"use strict";r.d(t,{b:()=>l});var s=r(43210),a=r(14163),i=r(60687),o=s.forwardRef((e,t)=>(0,i.jsx)(a.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label";var l=o},79551:e=>{"use strict";e.exports=require("url")},80013:(e,t,r)=>{"use strict";r.d(t,{Label:()=>d});var s=r(60687),a=r(43210),i=r(78148),o=r(24224),l=r(4780);let n=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.b,{ref:r,className:(0,l.cn)(n(),e),...t}));d.displayName=i.b.displayName},81630:e=>{"use strict";e.exports=require("http")},85717:(e,t,r)=>{Promise.resolve().then(r.bind(r,70058))},89667:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var s=r(60687),a=r(43210),i=r(4780);let o=a.forwardRef(({className:e,type:t,...r},a)=>(0,s.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));o.displayName="Input"},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},94796:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/auth/signup/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/auth/signup/page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,482,658,973],()=>r(43458));module.exports=s})();